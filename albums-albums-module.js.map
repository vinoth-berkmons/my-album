{"version":3,"sources":["./src/app/pages/albums/album-list/album-list.component.ts","./src/app/pages/albums/album-list/album-list.component.html","./src/app/pages/albums/album-routing.ts","./src/app/pages/albums/album-view/album-view.component.ts","./src/app/pages/albums/album-view/album-view.component.html","./src/app/pages/albums/albums.component.ts","./src/app/pages/albums/albums.component.html","./src/app/pages/albums/albums.module.ts"],"names":[],"mappings":"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","file":"albums-albums-module.js","sourcesContent":["import { Component, OnDestroy, OnInit } from '@angular/core';\nimport { ActivatedRoute, Params, Router } from '@angular/router';\nimport { BehaviorSubject, combineLatest, EMPTY, Observable, Subscription } from 'rxjs';\n\nimport FuzzySearch from 'fuzzy-search';\nimport { Album, Photo } from 'src/app/common/core/models';\nimport { AlbumsService, PhotosService } from 'src/app/common/core/services';\nimport { switchMap } from 'rxjs/operators';\n\n@Component({\n  selector: 'app-album-list',\n  templateUrl: './album-list.component.html',\n  styleUrls: ['./album-list.component.scss']\n})\nexport class AlbumListComponent implements OnInit, OnDestroy {\n\n  sub: Subscription = new Subscription();\n  albums: Album[];\n  visibleAlbum: Album[] = [];\n\n  firstPage: number = 1;\n  currentPage: number = 1;\n  search: string = '';\n  searcher: any;\n  filteredAlbum: Album[] = [];\n\n  sortValue: string = ''\n\n  getAlbums$ = this.albumService.getAlbums();\n  getPhotos$ = this.photosService.getPhotos();\n\n  constructor(\n    private albumService: AlbumsService,\n    private photosService: PhotosService,\n    private activatedRoute: ActivatedRoute,\n    private router: Router\n  ) { }\n\n  private mapAlbums(albums: Album[], photo: Photo[]) {\n\n    albums.forEach(album => {\n      album.photos = photo.filter(p => p.albumId === album.id)\n    }\n    )\n    return albums;\n\n  }\n  ngOnInit(): void {\n\n    combineLatest([this.getAlbums$, this.getPhotos$]).pipe(\n      switchMap(([albums, photos]) => {\n        this.albums = this.mapAlbums(albums, photos);\n        this.searcher = new FuzzySearch(this.albums, ['title'], {\n          caseSensitive: true,\n        });\n        this.filteredAlbum = this.searcher.search(this.search);\n        this.visibleAlbum = this.filteredAlbum ? this.filteredAlbum.slice((this.currentPage - 1) * 10, this.currentPage * 10) : [];\n        return EMPTY;\n      })\n    ).subscribe()\n\n\n    this.sub = this.activatedRoute.queryParams.subscribe((params: Params): void => {\n      this.currentPage = +params.page ? +params.page : 1;\n      if (this.currentPage < this.firstPage) {\n        this.firstPage = this.currentPage;\n      } else if (this.currentPage > this.firstPage + 2) {\n        this.firstPage = this.currentPage - 2;\n      }\n      this.search = params.search;\n      this.sortValue = params.sort;\n      this.filteredAlbum = this.searcher ? this.searcher.search(this.search) : this.albums;\n      this.filteredAlbum = this.filteredAlbum ? this.filteredAlbum.sort((a, b) => {\n        if (a[this.sortValue] < b[this.sortValue]) {\n          return -1;\n        }\n        if (a[this.sortValue] > b[this.sortValue]) {\n          return 1;\n        }\n        return 0;\n      }) : this.filteredAlbum;\n\n      this.visibleAlbum = this.filteredAlbum ? this.filteredAlbum.slice((this.currentPage - 1) * 10, this.currentPage * 10) : [];\n\n    });\n\n\n  }\n\n  ngOnDestroy() {\n    //Called once, before the instance is destroyed.\n    //Add 'implements OnDestroy' to the class.\n    this.sub.unsubscribe();\n  }\n\n  pageChanged(page: number): void {\n    this.router.navigate([], {\n      relativeTo: this.activatedRoute,\n      queryParams: {\n        page: page === 0 ? 1 : page,\n        search: this.search\n      },\n      queryParamsHandling: 'merge',\n    });\n  }\n\n  searchAlbum(val: string) {\n    this.router.navigate([], {\n      relativeTo: this.activatedRoute,\n      queryParams: {\n        page: this.currentPage,\n        search: val\n      },\n      queryParamsHandling: 'merge',\n    });\n  }\n\n  sortAlbum(value: string) {\n    console.log(value)\n    this.router.navigate([], {\n      relativeTo: this.activatedRoute,\n      queryParams: {\n        page: this.currentPage,\n        search: this.search,\n        sort: value\n      },\n      queryParamsHandling: 'merge',\n    });\n  }\n\n  selectAlbum(album: Album) {\n    const id = album.id;\n    this.router.navigate([`../list/${id}`],\n      {\n        relativeTo: this.activatedRoute,\n        state: {\n          data: album\n        }\n      });\n  }\n\n}\n","<div class=\"container-fluid\">\n  <div class=\"row\">\n    <h2>Albums</h2>\n    <div class=\"col-lg-12 col-md-12 col-sm-12 d-flex\">\n      <div class=\"searchbox-container\">\n        <div class=\"input-group mb-3\">\n          <span class=\"input-group-text\" id=\"basic-addon1\">\n            <i class=\"bi bi-search\"></i>\n          </span>\n          <input type=\"text\" class=\"form-control\" placeholder=\"Search\" aria-label=\"Search\" [ngModel]=\"search\"\n            (ngModelChange)=\"searchAlbum($event)\" aria-describedby=\"basic-addon1\">\n        </div>\n      </div>\n      <div class=\"sortby-container\">\n        <select class=\"form-select\" aria-label=\"Default select example\" (change)=\"sortAlbum($event.target.value)\"\n          [ngModel]=\"sortValue\">\n          <option disabled selected>Sort by</option>\n          <option value=\"id\">ID</option>\n          <option value=\"title\">Title</option>\n          <option value=\"userId\">Author</option>\n        </select>\n      </div>\n    </div>\n    <ng-container *ngFor=\"let album of visibleAlbum\">\n      <div class=\"col-lg-3 col-md-3 col-sm-4\">\n        <div class=\"card mb-3 card-container\">\n          <div class=\"card-header custom-ellipsis \" (click)=\"selectAlbum(album)\">{{album.title}}</div>\n          <div class=\"card-body text-success\" (click)=\"selectAlbum(album)\">\n            <div class=\"text-center img-inside-container\" *ngFor=\"let photo of album.photos |  slice:0:4\">\n              <img src=\"{{photo.thumbnailUrl}}\" class=\"rounded\" alt=\"{{photo.title}}\" width=\"40px\">\n            </div>\n            <!-- <div class=\"text-center\">\n              <img src=\"https://via.placeholder.com/150/771796\" class=\"rounded\" alt=\"...\" width=\"40px\">\n            </div> -->\n\n          </div>\n          <div class=\"card-footer  \">By User {{album.userId}}</div>\n        </div>\n      </div>\n    </ng-container>\n\n  </div>\n  <div class=\"row\">\n    <nav aria-label=\"Page navigation example\">\n      <ul class=\"pagination\">\n        <li class=\"page-item\" [ngClass]=\"{'disabled': currentPage === 1}\"><a class=\"page-link\"\n            (click)=\"pageChanged(currentPage-1)\">Previous</a></li>\n\n        <li class=\"page-item \" [ngClass]=\"{'active': currentPage === firstPage}\"><a class=\"page-link\"\n            (click)=\"pageChanged(firstPage)\">{{firstPage}}</a></li>\n\n        <li class=\"page-item\" [ngClass]=\"{'active': currentPage === firstPage+1}\"><a class=\"page-link\"\n            (click)=\"pageChanged(firstPage+1)\">{{firstPage+1}}</a></li>\n\n        <li class=\"page-item\" [ngClass]=\"{'active': currentPage === firstPage+2 }\"><a class=\"page-link\"\n            (click)=\"pageChanged(firstPage+2)\">{{firstPage+2}}</a></li>\n\n        <li class=\"page-item\" [ngClass]=\"{'disabled': (filteredAlbum?.length/10) === currentPage}\"><a class=\"page-link\"\n            (click)=\"pageChanged(currentPage+1)\">Next</a></li>\n      </ul>\n    </nav>\n  </div>\n</div>\n","import { Routes } from '@angular/router';\n\nimport { AlbumListComponent } from './album-list/album-list.component';\nimport { AlbumViewComponent } from './album-view/album-view.component';\nimport { AlbumsComponent } from './albums.component';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: AlbumsComponent,\n    children: [\n      {\n        path: '',\n        redirectTo: 'list',\n        pathMatch: 'full'\n      },\n      {\n\n        path: 'list',\n        data: {\n          breadcrumb: 'List'\n        },\n        component: AlbumListComponent\n\n      },\n      {\n        path: 'list/:id',\n        component: AlbumViewComponent\n      }\n    ]\n  },\n\n]\n\n\nexport { routes };\n","import { Component, OnDestroy, OnInit } from '@angular/core';\nimport { ActivatedRoute, Params, Router } from '@angular/router';\nimport { Subscription } from 'rxjs';\nimport { Album, Photo } from 'src/app/common/core/models';\n\nimport FuzzySearch from 'fuzzy-search';\n\n@Component({\n  selector: 'app-album-view',\n  templateUrl: './album-view.component.html',\n  styleUrls: ['./album-view.component.scss']\n})\nexport class AlbumViewComponent implements OnInit, OnDestroy {\n\n  sub: Subscription = new Subscription();\n  search: string = '';\n  searcher: any;\n  defaultImage: string = './assets/images/spinner.gif';\n  album: Album;\n  filteredAlbum: Album[] = [];\n  constructor(private router: Router, private activatedRoute: ActivatedRoute,) {\n    this.album = this.router.getCurrentNavigation()?.extras?.state?.data;\n  }\n\n  ngOnInit(): void {\n\n    if (this.album) {\n      this.searcher = new FuzzySearch(this.album?.photos, ['title'], {\n        caseSensitive: true,\n      });\n    }\n\n    this.filteredAlbum = this.searcher?.search(this.search);\n\n    this.sub = this.activatedRoute.queryParams.subscribe((params: Params): void => {\n\n      this.search = params.search;\n      this.filteredAlbum = this.searcher ? this.searcher?.search(this.search) : this.album?.photos;\n\n\n    });\n  }\n\n  ngOnDestroy() {\n    //Called once, before the instance is destroyed.\n    //Add 'implements OnDestroy' to the class.\n    this.sub.unsubscribe();\n  }\n  searchAlbum(val: string) {\n    this.router.navigate([], {\n      relativeTo: this.activatedRoute,\n      queryParams: {\n        search: val\n      },\n      queryParamsHandling: 'merge',\n    });\n  }\n\n}\n","<div class=\"container-fluid\">\n  <div class=\"row\">\n    <h2>{{album?.title}}</h2>\n    <div class=\"col-lg-12 col-md-12 col-sm-12 d-flex\">\n      <div class=\"searchbox-container\">\n        <div class=\"input-group mb-3\">\n          <span class=\"input-group-text\" id=\"basic-addon1\">\n            <i class=\"bi bi-search\"></i>\n          </span>\n          <input type=\"text\" class=\"form-control\" placeholder=\"Search\" aria-label=\"Search\"\n          [ngModel]=\"search\"\n            (ngModelChange)=\"searchAlbum($event)\"\n          aria-describedby=\"basic-addon1\">\n        </div>\n      </div>\n    </div>\n    <ng-container *ngFor=\"let photo of filteredAlbum\">\n      <div class=\"col-lg-3 col-md-3 col-sm-4\">\n        <div class=\"text-center img-inside-container\">\n          <img class=\"img-thumbnail\" [defaultImage]=\"defaultImage\" [useSrcset]=\"true\" [lazyLoad]=\"photo?.url\">\n          <p class=\"custom-ellipsis mt-1\">{{photo?.title}}</p>\n        </div>\n      </div>\n    </ng-container>\n  </div>\n</div>\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-albums',\n  templateUrl: './albums.component.html',\n  styleUrls: ['./albums.component.scss']\n})\nexport class AlbumsComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","<router-outlet></router-outlet>\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { LazyLoadImageModule } from 'ng-lazyload-image';\n\nimport { AlbumsComponent } from './albums.component';\n\nimport { AlbumListComponent } from './album-list/album-list.component';\nimport { AlbumViewComponent } from './album-view/album-view.component';\nimport { RouterModule } from '@angular/router';\nimport { routes } from '../albums/album-routing';\n\n@NgModule({\n  declarations: [AlbumsComponent, AlbumListComponent, AlbumViewComponent],\n  imports: [\n    CommonModule,\n    FormsModule,\n    LazyLoadImageModule,\n    RouterModule.forChild(routes)\n  ]\n})\nexport class AlbumsModule { }\n"],"sourceRoot":"webpack:///"}