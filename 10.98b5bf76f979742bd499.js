(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{XxUk:function(t,e,s){"use strict";s.r(e),s.d(e,"PostsModule",(function(){return m}));var r=s("ofXK"),i=s("tyNb"),a=s("3Pt+"),c=s("quSY"),o=s("jG7P"),n=s("fXoL"),b=s("ckSG");function l(t,e){if(1&t){const t=n.Rb();n.Qb(0,"tr",22),n.Xb("click",(function(){n.jc(t);const s=e.$implicit;return n.ac().selectPost(s.id)})),n.Qb(1,"th",23),n.rc(2),n.Pb(),n.Qb(3,"td"),n.Qb(4,"a",24),n.rc(5),n.Pb(),n.Pb(),n.Qb(6,"td"),n.Qb(7,"a"),n.rc(8),n.Pb(),n.Pb(),n.Qb(9,"td"),n.rc(10),n.Pb(),n.Pb()}if(2&t){const t=e.$implicit;n.zb(2),n.sc(t.id),n.zb(3),n.tc(" User ",t.userId,""),n.zb(3),n.sc(t.title),n.zb(2),n.sc(t.body)}}const u=function(t){return{disabled:t}},h=function(t){return{active:t}};let P=(()=>{class t{constructor(t,e,s){this.postService=t,this.activatedRoute=e,this.router=s,this.sub=new c.a,this.visiblePost=[],this.firstPage=1,this.currentPage=1,this.search="",this.filteredPost=[],this.sortValue=""}ngOnInit(){this.postService.getPosts().subscribe(t=>{this.posts=t,this.searcher=new o.a(this.posts,["title"],{caseSensitive:!0}),this.filteredPost=this.searcher.search(this.search),this.visiblePost=this.filteredPost?this.filteredPost.slice(10*(this.currentPage-1),10*this.currentPage):[]}),this.sub=this.activatedRoute.queryParams.subscribe(t=>{this.currentPage=+t.page?+t.page:1,this.currentPage<this.firstPage?this.firstPage=this.currentPage:this.currentPage>this.firstPage+2&&(this.firstPage=this.currentPage-2),this.search=t.search,this.sortValue=t.sort,this.filteredPost=this.searcher?this.searcher.search(this.search):this.posts,this.filteredPost=this.filteredPost?this.filteredPost.sort((t,e)=>t[this.sortValue]<e[this.sortValue]?-1:t[this.sortValue]>e[this.sortValue]?1:0):this.filteredPost,this.visiblePost=this.filteredPost?this.filteredPost.slice(10*(this.currentPage-1),10*this.currentPage):[],console.log(this.currentPage)})}ngOnDestroy(){this.sub.unsubscribe()}pageChanged(t){this.router.navigate([],{relativeTo:this.activatedRoute,queryParams:{page:0===t?1:t,search:this.search,sort:this.sortValue},queryParamsHandling:"merge"})}searchPost(t){this.router.navigate([],{relativeTo:this.activatedRoute,queryParams:{page:this.currentPage,search:t,sort:this.sortValue},queryParamsHandling:"merge"})}sortPost(t){console.log(t),this.router.navigate([],{relativeTo:this.activatedRoute,queryParams:{page:this.currentPage,search:this.search,sort:t},queryParamsHandling:"merge"})}selectPost(t){this.router.navigate(["../list/"+t],{relativeTo:this.activatedRoute})}}return t.\u0275fac=function(e){return new(e||t)(n.Lb(b.c),n.Lb(i.a),n.Lb(i.g))},t.\u0275cmp=n.Fb({type:t,selectors:[["app-post-list"]],decls:52,vars:21,consts:[[1,"container-fluid"],[1,"row"],[1,"col-lg-6","col-md-8","col-sm-12","d-flex"],[1,"searchbox-container"],[1,"input-group","mb-3"],["id","basic-addon1",1,"input-group-text"],[1,"bi","bi-search"],["type","text","placeholder","Search","aria-label","Search","aria-describedby","basic-addon1",1,"form-control",3,"ngModel","ngModelChange"],[1,"sortby-container"],["aria-label","Default select example",1,"form-select",3,"ngModel","change"],["disabled","","selected",""],["value","id"],["value","title"],["value","userId"],[1,"table-responsive"],[1,"table"],["scope","col"],[3,"click",4,"ngFor","ngForOf"],["aria-label","Page navigation example"],[1,"pagination"],[1,"page-item",3,"ngClass"],[1,"page-link",3,"click"],[3,"click"],["scope","row"],[1,"nav-link"]],template:function(t,e){1&t&&(n.Qb(0,"div",0),n.Qb(1,"div",1),n.Qb(2,"h2"),n.rc(3,"Posts"),n.Pb(),n.Qb(4,"div",2),n.Qb(5,"div",3),n.Qb(6,"div",4),n.Qb(7,"span",5),n.Mb(8,"i",6),n.Pb(),n.Qb(9,"input",7),n.Xb("ngModelChange",(function(t){return e.searchPost(t)})),n.Pb(),n.Pb(),n.Pb(),n.Qb(10,"div",8),n.Qb(11,"select",9),n.Xb("change",(function(t){return e.sortPost(t.target.value)})),n.Qb(12,"option",10),n.rc(13,"Sort by"),n.Pb(),n.Qb(14,"option",11),n.rc(15,"ID"),n.Pb(),n.Qb(16,"option",12),n.rc(17,"Title"),n.Pb(),n.Qb(18,"option",13),n.rc(19,"User"),n.Pb(),n.Pb(),n.Pb(),n.Pb(),n.Qb(20,"div",14),n.Qb(21,"table",15),n.Qb(22,"thead"),n.Qb(23,"tr"),n.Qb(24,"th",16),n.rc(25,"ID"),n.Pb(),n.Qb(26,"th",16),n.rc(27,"User"),n.Pb(),n.Qb(28,"th",16),n.rc(29,"Title"),n.Pb(),n.Qb(30,"th",16),n.rc(31,"Content"),n.Pb(),n.Pb(),n.Pb(),n.Qb(32,"tbody"),n.qc(33,l,11,4,"tr",17),n.Pb(),n.Pb(),n.Pb(),n.Pb(),n.Qb(34,"div",1),n.Qb(35,"nav",18),n.Qb(36,"ul",19),n.Qb(37,"li",20),n.Qb(38,"a",21),n.Xb("click",(function(){return e.pageChanged(e.currentPage-1)})),n.rc(39,"Previous"),n.Pb(),n.Pb(),n.Qb(40,"li",20),n.Qb(41,"a",21),n.Xb("click",(function(){return e.pageChanged(e.firstPage)})),n.rc(42),n.Pb(),n.Pb(),n.Qb(43,"li",20),n.Qb(44,"a",21),n.Xb("click",(function(){return e.pageChanged(e.firstPage+1)})),n.rc(45),n.Pb(),n.Pb(),n.Qb(46,"li",20),n.Qb(47,"a",21),n.Xb("click",(function(){return e.pageChanged(e.firstPage+2)})),n.rc(48),n.Pb(),n.Pb(),n.Qb(49,"li",20),n.Qb(50,"a",21),n.Xb("click",(function(){return e.pageChanged(e.currentPage+1)})),n.rc(51,"Next"),n.Pb(),n.Pb(),n.Pb(),n.Pb(),n.Pb(),n.Pb()),2&t&&(n.zb(9),n.fc("ngModel",e.search),n.zb(2),n.fc("ngModel",e.sortValue),n.zb(22),n.fc("ngForOf",e.visiblePost),n.zb(4),n.fc("ngClass",n.hc(11,u,1===e.currentPage)),n.zb(3),n.fc("ngClass",n.hc(13,h,e.currentPage===e.firstPage)),n.zb(2),n.sc(e.firstPage),n.zb(1),n.fc("ngClass",n.hc(15,h,e.currentPage===e.firstPage+1)),n.zb(2),n.sc(e.firstPage+1),n.zb(1),n.fc("ngClass",n.hc(17,h,e.currentPage===e.firstPage+2)),n.zb(2),n.sc(e.firstPage+2),n.zb(1),n.fc("ngClass",n.hc(19,u,(null==e.filteredPost?null:e.filteredPost.length)/10===e.currentPage)))},directives:[a.a,a.c,a.d,a.f,a.e,a.g,r.i,r.h],styles:[".searchbox-container[_ngcontent-%COMP%]{margin-right:15px}td[_ngcontent-%COMP%]{max-width:350px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;cursor:pointer}"]}),t})(),d=(()=>{class t{constructor(t){this.activatedRoute=t}ngOnInit(){const t=this.activatedRoute.snapshot.data.resolvedData;this.post=null==t?void 0:t.post}}return t.\u0275fac=function(e){return new(e||t)(n.Lb(i.a))},t.\u0275cmp=n.Fb({type:t,selectors:[["app-post-view"]],decls:6,vars:2,consts:[[1,"container-fluid"],[1,"row"]],template:function(t,e){1&t&&(n.Qb(0,"div",0),n.Qb(1,"div",1),n.Qb(2,"h1"),n.rc(3),n.Pb(),n.Qb(4,"p"),n.rc(5),n.Pb(),n.Pb(),n.Pb()),2&t&&(n.zb(3),n.sc(null==e.post?null:e.post.title),n.zb(2),n.tc(" ",null==e.post?null:e.post.body," "))},styles:[""]}),t})(),g=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Fb({type:t,selectors:[["app-posts"]],decls:1,vars:0,template:function(t,e){1&t&&n.Mb(0,"router-outlet")},directives:[i.k],styles:[""]}),t})();var p=s("LRne"),f=s("lJxs"),v=s("JIr8");const Q=[{path:"",component:g,children:[{path:"",redirectTo:"list",pathMatch:"full"},{path:"list",component:P,data:{breadcrumb:"List"}},{path:"list/:id",component:d,resolve:{resolvedData:(()=>{class t{constructor(t){this.postService=t}resolve(t,e){const s=t.paramMap.get("id");if(console.log(s),!s){const t=`Post id ${s} was not found`;return console.error(t),Object(p.a)({post:null,error:t})}return this.postService.getPostById(s).pipe(Object(f.a)(t=>({post:t})),Object(v.a)(t=>{const e="Retrieval error: "+t;return console.error(e),Object(p.a)({post:null,error:e})}))}}return t.\u0275fac=function(e){return new(e||t)(n.Ub(b.c))},t.\u0275prov=n.Hb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()}}]}];let m=(()=>{class t{}return t.\u0275mod=n.Jb({type:t}),t.\u0275inj=n.Ib({factory:function(e){return new(e||t)},imports:[[r.b,a.b,i.j.forChild(Q)]]}),t})()}}]);